
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>VServer &gt; Export Rules &#8212; Avere OS Configuration Guide</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="VServer &gt; NFS" href="gui_nfs.html" />
    <link rel="prev" title="VServer &gt; Export Policies" href="gui_export_policies.html" /> 

   <!-- use for draft review builds only - enables web page annotation internally -->
<!--
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script src="_static/annotator-full.min.js"></script>
    <script src="_static/annotate_init.js"></script>
    <link rel="stylesheet" href="_static/annotator.min.css">
-->

  </head><body>

<a href="https://azure.github.io/Avere/">
	<img style="margin: 20px; width: 40%;" src="_static/avere-microsoft-logo-full.png">
  </a>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="gui_nfs.html" title="VServer &gt; NFS"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gui_export_policies.html" title="VServer &gt; Export Policies"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="ops_conf_index.html">Avere OS Configuration Guide</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="settings_overview.html" accesskey="U">Avere Control Panel Settings</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="vserver-export-rules">
<span id="export-rules"></span><span id="index-0"></span><h1>VServer &gt; Export Rules<a class="headerlink" href="#vserver-export-rules" title="Permalink to this headline">     </a></h1>
<img alt="Export Rules Settings Page" src="_images/gui_export_rules-annot.png" />
<p>This page gives you the ability to customize and create new export policies, which control client access to core filer exports.</p>
<p>Export policies are made up of export rules, applied in order from top to bottom. The system automatically sorts rule by scope so that they will be applied in this order:</p>
<ol class="arabic simple">
<li>Host</li>
<li>Network</li>
<li>Netgroup</li>
<li>Default (no scope filter, matches all clients)</li>
</ol>
<p>However, if you have multiple rules at one scope, the order might be significant.</p>
<p>If you have not modified the default export policy (named default), it provides full access to the exported filesystem.</p>
<p>If your cluster uses more than one vserver, you must configure export rules for each vserver separately; export rules and policies cannot be copied or moved between vservers.</p>
<p>Select a vserver by using the drop-down selector in the side menu (1) to show its  policies.</p>
<div class="section" id="considerations-for-customizing-export-policies">
<h2>Considerations for Customizing Export Policies<a class="headerlink" href="#considerations-for-customizing-export-policies" title="Permalink to this headline">     </a></h2>
<p>Before starting to create or modify export rules and policies, consider these things.</p>
<ul class="simple">
<li>Rules can be created within an existing policy only. Before creating a new rule, you should decide whether to apply it to the default policy or to create a new policy. Follow the steps in <a class="reference internal" href="#create-export-policy"><span class="std std-ref">Creating An Export Policy</span></a> if you want to add the rule to a new policy.</li>
<li>Rules in an export policy are applied in order from host to default, but rules within one scope cannot be re-ordered after they are created. New rules are always added to the top of the group for their scope. So, for example, if you have two rules that use network filters, you should create a more general rule before a more specific rule so that the specific case is tested before the general case when the policy is applied.</li>
<li>If you use netgroups, the system immediately polls for changed netgroup information if you change an export policy (add, modify, or delete a rule) or change which policy applies to an export (on the <a class="reference internal" href="gui_export_policies.html#export-policies-page"><span class="std std-ref">Export Policies page</span></a>).</li>
</ul>
</div>
<div class="section" id="creating-an-export-policy">
<span id="create-export-policy"></span><span id="index-1"></span><h2>Creating An Export Policy<a class="headerlink" href="#creating-an-export-policy" title="Permalink to this headline">     </a></h2>
<ol class="arabic">
<li><p class="first">To create a new policy, click the <span class="guilabel">Create New Policy</span> button (3) at the top right of the page.</p>
</li>
<li><p class="first">Enter a name for the policy in the pop-up window.</p>
<a class="reference internal image-reference" href="_images/export_policy_new_name.png"><img alt="Creating a new export policy" src="_images/export_policy_new_name.png" style="width: 450px;" /></a>
</li>
<li><p class="first">The new policy is created and automatically selected so that you can add rules to it.</p>
<a class="reference internal image-reference" href="_images/export_policy_new.png"><img alt="A new policy with no rules" src="_images/export_policy_new.png" style="width: 450px;" /></a>
</li>
<li><p class="first">Follow the procedure described in <a class="reference internal" href="#modify-export-policy"><span class="std std-ref">Customizing an Export Policy</span></a> to add rules to the new policy.</p>
</li>
</ol>
</div>
<div class="section" id="customizing-an-export-policy">
<span id="modify-export-policy"></span><span id="index-2"></span><h2>Customizing an Export Policy<a class="headerlink" href="#customizing-an-export-policy" title="Permalink to this headline">     </a></h2>
<p>You can add rules to an export policy, or delete rules to change its effects. You also can change an existing rule.</p>
<p>The steps in creating or modifying a rule are similar.</p>
<p>Select the policy to modify in the drop-down list at the top of the table.</p>
<ul class="simple">
<li>To modify an existing rule, click the <span class="guilabel">Modify</span> button in the <span class="guilabel">Actions</span> column for that rule.</li>
<li>To delete an existing rule, click the <span class="guilabel">Delete</span> button in its <span class="guilabel">Actions</span> column.</li>
<li>To create a new rule, click the <span class="guilabel">Add new rule</span> button (4) at the top of the page. The new rule will be created at the top of the list for that rule scope - that is, it will be evaluated first among all rules with the same filter when the policy is applied.</li>
</ul>
<p>When adding or modifying a rule, a detailed panel appears above the list of rules so that you can configure the following options. (The panel is labeled either <span class="guilabel">Add New Rule Definition</span> or <span class="guilabel">Modify Rule Definition</span> depending on the situation.)</p>
<p>Remember to click the <span class="guilabel">Submit</span> button after configuring all of the settings for the rule. The new rule will appear at the top of the list in its scope category.</p>
<p>The sections below explain the options for each setting.</p>
<div class="section" id="rule-scope-and-filter-value">
<h3>Rule Scope and Filter Value<a class="headerlink" href="#rule-scope-and-filter-value" title="Permalink to this headline">     </a></h3>
<p>The scope and filter values define which clients will be affected by this export rule.</p>
<p>The <em>scope</em> of the rule sets the method for filtering clients, and the <em>filter</em> element sets the values to match. For example, you can use a rule that filters by specific host IP addresses, or filter all clients from a particular network.</p>
<div class="section" id="scope-values">
<h4>Scope Values<a class="headerlink" href="#scope-values" title="Permalink to this headline">     </a></h4>
<p>Rules in a policy are automatically ordered by scope, from most specific (host) to least specific (default). Within each category of scope, new rules appear above older rules.</p>
<p>Possible values include the following:</p>
<ul class="simple">
<li><span class="guilabel">host</span> – The rule matches a specified host (client).</li>
<li><span class="guilabel">network</span> – The rule matches clients in a specified network or subnet.</li>
<li><span class="guilabel">netgroup</span> – The rule matches clients in a specified netgroup.</li>
<li><span class="guilabel">default</span> – The rule matches all clients.</li>
</ul>
</div>
<div class="section" id="filter-values">
<h4>Filter Values<a class="headerlink" href="#filter-values" title="Permalink to this headline">     </a></h4>
<p>The filter format depends on the rule’s scope, as follows:</p>
<ul>
<li><p class="first">for <span class="guilabel">host</span>:
The IP address or fully qualified domain name of the host to which the rule applies</p>
</li>
<li><p class="first">for <span class="guilabel">network</span>:</p>
<p>The network or subnet to which the rule applies, specified in one of the following formats:</p>
<ul class="simple">
<li>IP_address/mask_length (for example, <code class="docutils literal notranslate"><span class="pre">192.168.0.1/24</span></code>)</li>
<li>IP_address/netmask (for example, <code class="docutils literal notranslate"><span class="pre">192.168.0.1/255.255.255.0</span></code>)</li>
<li>Network name, preceded by an equals (=) symbol (for example, <code class="docutils literal notranslate"><span class="pre">=EXAMPLE.COM</span></code>)</li>
</ul>
</li>
<li><p class="first">for <span class="guilabel">netgroup</span>:</p>
<p>Netgroup name, preceded by the &#64; (at) symbol (For example, for a netgroup named BUILDHOSTS, enter <code class="docutils literal notranslate"><span class="pre">&#64;BUILDHOSTS</span></code> into the field.)</p>
</li>
<li><p class="first">for <span class="guilabel">Default</span>:</p>
<p>The asterisk (*) character, specifying that no filtering is applied.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="access-level">
<h3>Access Level<a class="headerlink" href="#access-level" title="Permalink to this headline">     </a></h3>
<p>The access level setting determines what permissions are granted to clients that match the filter.</p>
<p>Use the <span class="guilabel">Allowable access</span> drop-down list to choose from these values:</p>
<ul class="simple">
<li>no access</li>
<li>read-only</li>
<li>read/write</li>
</ul>
</div>
<div class="section" id="user-id-settings">
<span id="index-3"></span><h3>User ID Settings<a class="headerlink" href="#user-id-settings" title="Permalink to this headline">     </a></h3>
<p>The User ID Mapping and Anonymous User settings determine how user identifiers (UIDs) are sent to the core filer.</p>
<p>For security reasons, you might want to change the UID on requests to the core filer export. The most common reason is to prevent a user with special privileges on the client system (for example, the root user) from gaining the same privileges on the back-end system.</p>
<p>Use the <span class="guilabel">UID mapping</span> list to choose how to handle client-side user identifiers. Options are:</p>
<ul class="simple">
<li><span class="guilabel">map root to Anon</span> – Client requests from user ID 0, typically the root user, are mapped to the anonymous user for requests to the core filer export. This is commonly known as “root squashing.”</li>
<li><span class="guilabel">map all to Anon</span> – Client requests from all users are mapped to the anonymous user.</li>
<li><span class="guilabel">no UID mapping</span> - No user-ID mapping is performed; UIDs are passed verbatim from the client to the core filer. A root user from the client will have access as a root user on the core filer.</li>
</ul>
<p>Use the <span class="guilabel">Anon</span> drop-down list to configure the user ID sent to the core filer from an anonymous user. Options include the following:</p>
<ul class="simple">
<li><span class="guilabel">-2</span> (nobody)</li>
<li><span class="guilabel">65534</span> (nobody)</li>
<li><span class="guilabel">-1</span> (no access)</li>
<li><span class="guilabel">65535</span> (no access)</li>
<li><span class="guilabel">0</span> (unprivileged root)</li>
</ul>
</div>
<div class="section" id="suid-sgid">
<h3>SUID/SGID<a class="headerlink" href="#suid-sgid" title="Permalink to this headline">     </a></h3>
<p>Check the box labeled <span class="guilabel">Allow SUID bits within this export</span> if you want to allow
files on the core filer to change user IDs (SUID) and group IDs (SGID) upon client access. Typically, SUID and SGID bits are used to temporarily increase a user’s privileges in order to accomplish a task related to the file.</p>
</div>
<div class="section" id="submount-access">
<h3>Submount Access<a class="headerlink" href="#submount-access" title="Permalink to this headline">     </a></h3>
<p>Check the box labeled <span class="guilabel">Allow submounts within this export</span> to let clients also access subdirectories of the core filer export point.</p>
<p>Consider the security implications of this setting before changing it - in most cases, the access controls set on the parent directory cascade to the subdirectory, but there can be situations where allowing submount access exposes files unintentionally.</p>
</div>
<div class="section" id="authentication">
<h3>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">     </a></h3>
<p>In the <span class="guilabel">Authentication Flavors</span> area, you can set the type of authentication for the core filer export. Choose either <span class="guilabel">UNIX/SYS</span> (the default) or <span class="guilabel">Kerberos</span>.</p>
<p>Read <a class="reference internal" href="kerberos_overview.html#kerberos-overview"><span class="std std-ref">Setting Up Kerberos Authentication</span></a> to learn more about enabling Kerberos authentication for a core filer export.</p>
</div>
</div>
<div class="section" id="deleting-an-export-policy">
<span id="index-4"></span><h2>Deleting an Export Policy<a class="headerlink" href="#deleting-an-export-policy" title="Permalink to this headline">     </a></h2>
<p>To permanently remove an export policy, select it fron the list on the <span class="guilabel">Export Rules</span> page. If it is eligible for deletion, a <span class="guilabel">Delete policy</span> button appears in the upper right corner of the page.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You cannot remove the default export policy.</p>
</div>
</div>
<div class="section" id="testing-client-access">
<span id="test-export-policy"></span><span id="index-5"></span><h2>Testing Client Access<a class="headerlink" href="#testing-client-access" title="Permalink to this headline">     </a></h2>
<p>You can test an export policy before applying it to an export. Use the <span class="guilabel">Client to test</span> field at the bottom of the <span class="guilabel">Export Rules</span> page to enter a client IP address or hostname, then click <span class="guilabel">Filter</span>. The test utility displays the first matching rule in the current policy for that client.</p>
<div class="last-update docutils container">
updated 2017-11-15</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="ops_conf_index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">About Avere OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="common_tasks.html">Configuration Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings_overview.html">Avere Control Panel Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="support_overview.html">Using the Avere Control Panel Support Tab</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendixes.html">Appendixes</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontmatter.html">Copyright Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontmatter.html#trademark-information">Trademark Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontmatter.html#revision-history">Revision History</a></li>
</ul>

<h4><a href="settings_overview.html">Settings Pages</a></h4>
<ul> 
 <li><a href="settings_overview.html#creating-and-working-with-vservers">VServer section</a>
   <ul>
     <li><a href="gui_vserver_manage.html">Manage VServers</a></li>
     <li><a href="gui_vserver_details.html">VServer Details</a></li>
     <li><a href="gui_client_network.html">Client Facing Network</a></li>
     <li><a href="gui_namespace.html">Namespace</a></li>
     <li><a href="gui_export_policies.html">Export Policies</a></li>
     <li><a href="gui_export_rules.html">Export Rules</a></li>
     <li><a href="gui_nfs.html">NFS</a></li>
     <li><a href="gui_cifs.html">CIFS</a></li>
     <li><a href="gui_cifs_shares.html">CIFS Shares</a></li>
    </ul>
 </li>
 
 <li><a href="settings_overview.html#managing-core-filers">Core Filer section</a>
  <ul>
   <li><a href="gui_manage_core_filers.html">Manage Core Filers</a></li>
   <li><a href="gui_core_filer_details.html">Core Filer Details</a></li>
   <li><a href="gui_cloud_encryption_settings.html">Cloud Encryption Settings</a></li>
   <li><a href="gui_cloud_snapshots.html">Cloud Snapshots</a></li>
   <li><a href="gui_cloud_snapshot_policies.html">Cloud Snapshot Policies</a></li>
   <li><a href="gui_manage_cache_policies.html">Manage Cache Policies</a></li>
  </ul>
 </li>
 
 <li><a href="settings_overview.html#cluster-settings-overview">Cluster section</a>
  <ul>
    <li><a href="gui_cluster_general_setup.html">General Setup</a></li>
    <li><a href="gui_admin_network.html">Administrative Network</a></li>
    <li><a href="gui_cluster_networks.html">Cluster Networks</a></li>
    <li><a href="gui_proxy_config.html">Proxy Configuration</a></li>
    <li><a href="gui_fxt_nodes.html">FXT Nodes</a></li>
    <li><a href="gui_node_details.html">Node Details</a></li>
    <li><a href="gui_ha.html">High Availability</a></li>
    <li><a href="gui_monitoring_settings.html">Monitoring</a></li>
    <li><a href="gui_schedules.html">Schedules</a></li>
    <li><a href="gui_directory_services.html">Directory Services</a></li>
    <li><a href="gui_kerberos.html">Kerberos</a></li>
    <li><a href="gui_ipmi.html">IPMI</a></li>
    <li><a href="gui_support.html">Support</a></li>
    <li><a href="gui_licenses.html">Licenses</a></li>
    <li><a href="gui_cloud_credentials.html">Cloud Credentials</a></li>
    <li><a href="gui_certificates.html">Certificates</a></li>
    <li><a href="gui_kmip_servers.html">KMIP Servers</a></li>
    <li><a href="gui_vlan.html">VLAN</a></li>
  </ul>
 </li>

 <li><a href="settings_overview.html#administration-settings-overview">Administration section</a>
  <ul>
   <li><a href="gui_system_maintenance.html">System Maintenance</a></li>
   <li><a href="gui_software_update.html">Software Update</a></li>
   <li><a href="gui_users.html">Users</a></li>
   <li><a href="gui_login_services.html">Login Services</a></li>
   <li><a href="gui_hidden_alerts.html">Hidden Alerts</a></li>
  </ul>
 </li>
 
</ul>



  <h4>Previous topic</h4>
  <p class="topless"><a href="gui_export_policies.html"
                        title="previous chapter">VServer &gt; Export Policies</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gui_nfs.html"
                        title="next chapter">VServer &gt; NFS</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="gui_nfs.html" title="VServer &gt; NFS"
             >next</a> |</li>
        <li class="right" >
          <a href="gui_export_policies.html" title="VServer &gt; Export Policies"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="ops_conf_index.html">Avere OS Configuration Guide</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="settings_overview.html" >Avere Control Panel Settings</a> &#187;</li> 
      </ul>
    </div>
<div style="background-color: #000;">

<div>&nbsp;</div>

<div style="text-align: right;">
	<ul style="list-style-type:none; color:#fff; padding-right: 50px; line-height:1.5em; font-size: 16px;">
		<li><strong><a href="https://azure.github.io/Avere/" target="_blank" style="color: #fff;">Legacy Documentation Home Page</a></strong>
		</li>
		<li><strong><a href="https://azure.microsoft.com/services/storage/avere-vfxt/" target="_blank" style="color: #fff;">Avere Microsoft Website</a></strong>
		</li>
	</ul>
</div>



<div style="color:#fff; padding-bottom:8px; padding-left:10px;">© 2018 Avere. All Rights Reserved. | <a href="http://www.averesystems.com/privacy-policy" style="color:#fff;">Privacy Policy</a> | <a href="http://www.averesystems.com/terms-of-use" style="color:#fff;">Terms of Use</a> 
</div>
</div>
</div>


  </body>
</html>