{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "renderWorker": {
      "value": {
        "machineImages": [
          {
            "enabled": true,
            "templateName": "RenderWorker",
            "definitionName": "Linux",
            "sourceType": "PlatformImage",
            "sourceVersion": "latest",
            "buildCustomization": [
              {
                "name": "Tools",
                "type": "Shell",
                "inline": [
                  "cd /usr/local/bin",
                  "cp /mnt/tools/opencue/v0.4.14/opencue-requirements.txt .",
                  "cp /mnt/tools/opencue/v0.4.14/opencue-rqd.tar.gz .",
                  "cp /mnt/tools/opencue/v0.4.14/opencue-rqd.service ."
                ]
              },
              {
                "name": "OpenCue",
                "type": "Shell",
                "inline": [
                  "yum -y install gcc",
                  "yum -y install python3-devel",
                  "yum -y install redhat-rpm-config",
                  "cd /usr/local/bin",
                  "pip3 install -r opencue-requirements.txt",
                  "tar -xzf opencue-rqd.tar.gz",
                  "cd rqd-*",
                  "python3 setup.py install"
                ]
              }
            ],
            "buildTimeoutMinutes": 120
          }
        ]
      }
    },
    "imageGallery": {
      "value": {
        "name": "",
        "imageReplicationCount": 10,
        "imageReplicationRegions": [
        ]
      }
    },
    "virtualNetwork": {
      "value": {
        "name": "",
        "subnetName": "Render",
        "resourceGroupName": ""
      }
    }
  }
}
